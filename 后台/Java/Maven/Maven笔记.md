# Maven笔记

## Maven构建过程

1.  清理：将以前编译得到的class字节码文件，为下次编译做准备。
2. 编译：将Java源文件编译成class字节码文件。
3. 测试：自动测试，自动调用junit程序。
4. 报告：显示测试程序执行的结果。
5. 打包：将Web工程打成war包，将Java工程打成jar包。
6. 安装：Maven特定的概念——将打包得到的文件，复制到仓库中指定的位置。
7. 部署：将动态Web工程生成的war包复制到Servlet容器的指定目录下，使其可用运行。

## Maven常用命令

- maven clean：清除。
- maven package：打包。
- maven test：测试。
- maven install：安装工程到本地仓库。

## Maven依赖

Maven解析依赖信息时会到本地仓库中查找被依赖的jar包，对于我们自己开发的Maven工程，需要使用`maven install`命令将自己开发的工程安装到本地仓库中。

### 依赖范围详解

![1567913172680](Maven笔记.assets/1567913172680.png)

1. compile范围依赖

   - 对主程序是否有效：有效。
   - 对测试程序是否有效：有效。
   - 是否参与打包：参与。
   - 是否参与部署：参与。
   - 是否能依赖传递：能。

   ![compile范围依赖-图解](Maven笔记.assets/1567913484678.png)

2. test范围依赖

   - 对主程序是否有效：无效。
   - 对测试程序是否有效：有效。
   - 是否参与打包：不参与。
   - 是否参与部署：不参与。
   - 是否能依赖传递：不能。

3. provided范围依赖

   - 对主程序是否有效：有效。
   - 对测试程序是否有效：有效。
   - 是否参与打包：不参与。
   - 是否参与部署：不参与。
   - 是否能依赖传递：不能。

   ![provided范围依赖-图解](Maven笔记.assets/1567913626663.png)

## Maven继承

- 作用：统一管理各个模块中的依赖版本。
- 解决步骤如下
  1. 创建一个Maven工程作为父工程，将打包方式设置为pom。
  2. 在子工程中声明对父工程的引用，使用`parent`标签。
  3. 将子工程中与父工程坐标相同的依赖的版本号删除掉。
  4. 在父工程中统一使用`dependencyManagement`标签进行依赖管理。

## Maven聚合

- 作用：一键安装各个模块工程。	
- 操作步骤如下：
  1. 在一个【总的聚合工程】（可以是父工程）中配置各个参与聚合的模块，使用`module`标签

   